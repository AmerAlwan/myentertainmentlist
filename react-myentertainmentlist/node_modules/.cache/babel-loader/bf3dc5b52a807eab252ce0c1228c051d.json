{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\me\\\\Desktop\\\\Projects\\\\myentertainmentlist\\\\react-myentertainmentlist\\\\src\\\\pages\\\\RegisterPage.js\";\nimport React, { Component } from 'react';\nimport SearchBar from '../components/search/SearchBar';\nimport { Row, Col, Form, Button, Spinner, Alert } from 'react-bootstrap';\nimport NavBar from \"../components/navbar/AppNavBar\";\nimport { search } from \"../components/search/util.js\";\nimport UserDataService from \"../components/backend/user.service\";\nimport Validator from \"../components/backend/validator\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nclass RegisterPage extends Component {\n  constructor(props) {\n    super(props);\n\n    this.findFormErrors = () => {\n      return Validator.validate(false, this.state.form);\n    };\n\n    this.handleSubmit = e => {\n      e.preventDefault();\n      const newErrors = this.findFormErrors();\n\n      if (Object.keys(newErrors).length > 0) {\n        this.setState({\n          errors: newErrors,\n          validated: false\n        });\n      } else {\n        this.setState({\n          isLoading: true\n        }, () => {\n          Validator.validateAndCreateUser(this.state.form).then(result => {\n            console.log(result);\n\n            if (result && result.status == 200) {\n              this.setState({\n                validated: true,\n                isLoading: false,\n                errors: {},\n                form: {},\n                isAccountCreated: true,\n                isSomethingWrong: false\n              });\n            } else if (result && result.status == 400) {\n              this.setState({\n                isLoading: false,\n                isSomethingWrong: true,\n                isSomethingWrongError: result.data.message\n              });\n            } else {\n              this.setState({\n                isLoading: false,\n                isSomethingWrong: true,\n                isSomethingWrongMessage: \"Something went wrong!\"\n              });\n            }\n          });\n        });\n      }\n    };\n\n    this.setField = (field, value) => {\n      this.setState(prevState => ({\n        form: { ...prevState.form,\n          [field]: value\n        }\n      }));\n    };\n\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.state = {\n      form: {},\n      errors: {},\n      validated: false,\n      isLoading: false,\n      isSomethingWrong: false,\n      isSomethingWrongError: \"Something went wrong!\",\n      isAccountCreated: false\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(NavBar, {\n        showSearchBar: true,\n        showLogin: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Form, {\n        validated: this.state.validated,\n        onSubmit: this.handleSubmit,\n        style: {\n          position: \"absolute\",\n          top: \"50%\",\n          left: \"50%\",\n          transform: \"translate(-50%, -50%)\"\n        },\n        children: [this.state.isSomethingWrong ? /*#__PURE__*/_jsxDEV(Row, {\n          style: {\n            margin: \"1rem 0\"\n          },\n          children: /*#__PURE__*/_jsxDEV(Col, {\n            children: /*#__PURE__*/_jsxDEV(Alert, {\n              variant: \"danger\",\n              children: this.state.isSomethingWrongError\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 72,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 27\n        }, this) : this.state.isAccountCreated ? /*#__PURE__*/_jsxDEV(Row, {\n          style: {\n            margin: \"1rem 0\"\n          },\n          children: /*#__PURE__*/_jsxDEV(Col, {\n            children: /*#__PURE__*/_jsxDEV(Alert, {\n              variant: \"success\",\n              children: \"Account successfully created! We have sent you an email to verfiy your account.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 37\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 33\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 31\n        }, this) : \"\", /*#__PURE__*/_jsxDEV(Row, {\n          style: {\n            margin: \"1rem 0\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(Col, {\n            children: /*#__PURE__*/_jsxDEV(Form.Group, {\n              children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                children: \"First Name\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 86,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                isInvalid: !!this.state.errors.firstName,\n                type: \"text\",\n                placeholder: \"Enter First Name\",\n                onChange: e => this.setField(\"firstName\", e.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 87,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(Form.Control.Feedback, {\n                type: \"invalid\",\n                children: this.state.errors.firstName\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 88,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 85,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            children: /*#__PURE__*/_jsxDEV(Form.Group, {\n              children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                children: \"Last Name\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 93,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                isInvalid: !!this.state.errors.lastName,\n                type: \"text\",\n                placeholder: \"Enter Last Name\",\n                onChange: e => this.setField(\"lastName\", e.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 94,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(Form.Control.Feedback, {\n                type: \"invalid\",\n                children: this.state.errors.lastName\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 95,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 92,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Row, {\n          style: {\n            margin: \"1rem 0\"\n          },\n          children: /*#__PURE__*/_jsxDEV(Col, {\n            children: /*#__PURE__*/_jsxDEV(Form.Group, {\n              children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                children: \"Email\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 102,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                isInvalid: !!this.state.errors.email,\n                value: this.state.form.email,\n                type: \"text\",\n                placeholder: \"Enter Email\",\n                onChange: e => this.setField(\"email\", e.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 103,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(Form.Control.Feedback, {\n                type: \"invalid\",\n                children: this.state.errors.email\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 104,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 101,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Row, {\n          style: {\n            margin: \"1rem 0\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(Col, {\n            children: /*#__PURE__*/_jsxDEV(Form.Group, {\n              children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                children: \"Username\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 111,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                isInvalid: !!this.state.errors.username,\n                type: \"text\",\n                placeholder: \"Enter Username\",\n                onChange: e => this.setField(\"username\", e.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 112,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(Form.Control.Feedback, {\n                type: \"invalid\",\n                children: this.state.errors.username\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 113,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 110,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            children: /*#__PURE__*/_jsxDEV(Form.Group, {\n              children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                children: \"Password\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 118,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                isInvalid: !!this.state.errors.password,\n                type: \"password\",\n                placeholder: \"Enter Password\",\n                onChange: e => this.setField(\"password\", e.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 119,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(Form.Control.Feedback, {\n                type: \"invalid\",\n                children: this.state.errors.password\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 120,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 117,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Row, {\n          style: {\n            textAlign: \"center\"\n          },\n          children: /*#__PURE__*/_jsxDEV(Col, {\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"primary\",\n              type: \"submit\",\n              children: \"Submit\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 126,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 17\n      }, this), this.state.isLoading ? /*#__PURE__*/_jsxDEV(Spinner, {\n        variant: \"primary\",\n        animation: \"border\",\n        style: {\n          position: \"absolute\",\n          top: \"50%\",\n          left: \"50%\"\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 42\n      }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false)]\n    }, void 0, true);\n  }\n\n}\n\nexport default RegisterPage;","map":{"version":3,"sources":["C:/Users/me/Desktop/Projects/myentertainmentlist/react-myentertainmentlist/src/pages/RegisterPage.js"],"names":["React","Component","SearchBar","Row","Col","Form","Button","Spinner","Alert","NavBar","search","UserDataService","Validator","RegisterPage","constructor","props","findFormErrors","validate","state","form","handleSubmit","e","preventDefault","newErrors","Object","keys","length","setState","errors","validated","isLoading","validateAndCreateUser","then","result","console","log","status","isAccountCreated","isSomethingWrong","isSomethingWrongError","data","message","isSomethingWrongMessage","setField","field","value","prevState","bind","render","position","top","left","transform","margin","firstName","target","lastName","email","username","password","textAlign"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\r\nimport SearchBar from '../components/search/SearchBar'\r\nimport {Row, Col, Form, Button, Spinner, Alert} from 'react-bootstrap';\r\nimport NavBar from \"../components/navbar/AppNavBar\";\r\nimport {search} from \"../components/search/util.js\";\r\nimport UserDataService from \"../components/backend/user.service\";\r\nimport Validator from \"../components/backend/validator\";\r\n\r\nclass RegisterPage extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n        this.state = {\r\n            form: {},\r\n            errors: {},\r\n            validated: false,\r\n            isLoading: false,\r\n            isSomethingWrong: false,\r\n            isSomethingWrongError: \"Something went wrong!\",\r\n            isAccountCreated: false\r\n        };\r\n    }\r\n\r\n    findFormErrors = () => {\r\n       return Validator.validate(false, this.state.form);\r\n    }\r\n\r\n\r\n    handleSubmit = (e) => {\r\n        e.preventDefault();\r\n\r\n        const newErrors = this.findFormErrors();\r\n\r\n        if(Object.keys(newErrors).length > 0) {\r\n            this.setState({errors: newErrors, validated: false});\r\n        } else {\r\n\r\n            this.setState({isLoading: true}, () => {\r\n                Validator.validateAndCreateUser(this.state.form).then(result => {\r\n                    console.log(result);\r\n                   if (result && result.status == 200) {\r\n                       this.setState({validated: true, isLoading: false, errors: {}, form: {}, isAccountCreated: true, isSomethingWrong: false});\r\n                   } else if(result && result.status == 400) {\r\n                       this.setState({isLoading: false, isSomethingWrong: true, isSomethingWrongError: result.data.message});\r\n                   } else {\r\n                       this.setState({isLoading: false, isSomethingWrong: true, isSomethingWrongMessage: \"Something went wrong!\"});\r\n                   }\r\n                });\r\n            });\r\n        }\r\n    }\r\n\r\n\r\n    setField = (field, value) => {\r\n        this.setState(prevState => ({\r\n            form: {\r\n                ...prevState.form,\r\n                [field]: value\r\n            }\r\n        }));\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <>\r\n                <NavBar showSearchBar showLogin/>\r\n                <Form validated={this.state.validated} onSubmit={this.handleSubmit} style={{position: \"absolute\", top: \"50%\", left: \"50%\", transform: \"translate(-50%, -50%)\"}}>\r\n                    {this.state.isSomethingWrong ?\r\n                        ( <Row style={{margin: \"1rem 0\"}}>\r\n                            <Col>\r\n                                <Alert variant=\"danger\">{this.state.isSomethingWrongError}</Alert>\r\n                            </Col>\r\n                        </Row> ) :\r\n                        this.state.isAccountCreated ?\r\n                            ( <Row style={{margin: \"1rem 0\"}}>\r\n                                <Col>\r\n                                    <Alert variant=\"success\">Account successfully created! We have sent you an email to verfiy your account.</Alert>\r\n                                </Col>\r\n                            </Row> ) :\r\n                            \"\"\r\n                    }\r\n                    <Row style={{margin: \"1rem 0\"}}>\r\n                        <Col>\r\n                            <Form.Group>\r\n                                <Form.Label>First Name</Form.Label>\r\n                                <Form.Control isInvalid={!!this.state.errors.firstName} type=\"text\" placeholder=\"Enter First Name\" onChange={e => this.setField(\"firstName\", e.target.value)}/>\r\n                                <Form.Control.Feedback type=\"invalid\">{this.state.errors.firstName}</Form.Control.Feedback>\r\n                            </Form.Group>\r\n                        </Col>\r\n                        <Col>\r\n                            <Form.Group>\r\n                                <Form.Label>Last Name</Form.Label>\r\n                                <Form.Control isInvalid={!!this.state.errors.lastName} type=\"text\" placeholder=\"Enter Last Name\" onChange={e => this.setField(\"lastName\", e.target.value)}/>\r\n                                <Form.Control.Feedback type=\"invalid\">{this.state.errors.lastName}</Form.Control.Feedback>\r\n                            </Form.Group>\r\n                        </Col>\r\n                    </Row>\r\n                    <Row style={{margin: \"1rem 0\"}}>\r\n                        <Col>\r\n                            <Form.Group>\r\n                                <Form.Label>Email</Form.Label>\r\n                                <Form.Control isInvalid={!!this.state.errors.email} value={this.state.form.email} type=\"text\" placeholder=\"Enter Email\" onChange={e => this.setField(\"email\", e.target.value)}/>\r\n                                <Form.Control.Feedback type=\"invalid\">{this.state.errors.email}</Form.Control.Feedback>\r\n                            </Form.Group>\r\n                        </Col>\r\n                    </Row>\r\n                    <Row style={{margin: \"1rem 0\"}}>\r\n                        <Col>\r\n                            <Form.Group>\r\n                                <Form.Label>Username</Form.Label>\r\n                                <Form.Control isInvalid={!!this.state.errors.username} type=\"text\" placeholder=\"Enter Username\" onChange={e => this.setField(\"username\", e.target.value)}/>\r\n                                <Form.Control.Feedback type=\"invalid\">{this.state.errors.username}</Form.Control.Feedback>\r\n                            </Form.Group>\r\n                        </Col>\r\n                        <Col>\r\n                            <Form.Group>\r\n                                <Form.Label>Password</Form.Label>\r\n                                <Form.Control isInvalid={!!this.state.errors.password} type=\"password\" placeholder=\"Enter Password\" onChange={e => this.setField(\"password\", e.target.value)}/>\r\n                                <Form.Control.Feedback type=\"invalid\">{this.state.errors.password}</Form.Control.Feedback>\r\n                            </Form.Group>\r\n                        </Col>\r\n                    </Row>\r\n                    <Row style={{textAlign: \"center\"}}>\r\n                        <Col>\r\n                            <Button variant=\"primary\" type=\"submit\">Submit</Button>\r\n                        </Col>\r\n                    </Row>\r\n                </Form>\r\n                { this.state.isLoading ? <Spinner variant=\"primary\" animation=\"border\" style={{position: \"absolute\", top: \"50%\", left: \"50%\"}}></Spinner> : <></> }\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nexport default RegisterPage;\r\n"]},"metadata":{},"sourceType":"module"}